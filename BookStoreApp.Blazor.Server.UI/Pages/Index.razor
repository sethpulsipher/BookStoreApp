@page "/"
@inject IConfiguration config

<PageTitle>Index</PageTitle>

<AuthorizeView>
    
    <Authorized>
        <h1>Welcome back!</h1>
        <p>You are logged in as @context?.User.Identity?.Name</p>
        <p>Test Connection String: <i>@testConnection</i></p>
    </Authorized>

    <NotAuthorized>
        <h1>Welcome!</h1>

        <p>You are not logged in.</p>
    </NotAuthorized>

</AuthorizeView>



@code {
    private string testConnection = "";

    protected override void OnInitialized()
    {
        testConnection = config.GetConnectionString("Test") ?? "Unknown";
    }
}

